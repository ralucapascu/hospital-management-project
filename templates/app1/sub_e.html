{%extends 'app1/homepage.html'%}
{%block content%}
<h2>Exemplificarea constrangerii on delete cascade pentru FK id_angajat din tabelul MEDIC si FK cod_parafa din tabelele CONSULTATIE si PROCEDURI_INTERNARE </h2>
<br>
<div class="row">
  <div class="col-md">
     <div class="card card-body">
  <h5>ANGAJATI</h5>
  </div>
  <div class="card card-body">
    <table id='angajat' class="table">
      <tr>
        <th>Id angajat</th>
        <th>Nume</th>
        <th>Prenume</th>
        <th>Post</th>
        <th>Id manager</th>
        <th>Telefon</th>
        <th>Email</th>
        <th>Salariu</th>
        <th>Data Angajarii</th>
        <th >Stergere</th>
      </tr>

{% for ang in angajati %}
<tr>
  <td>{{ang.id_angajat}}</td>
  <td>{{ang.nume}}</td>
  <td>{{ang.prenume}}</td>
  <td>{{ang.id_post}}</td>
  <td>{{ang.id_manager}}</td>
  <td>{{ang.telefon}}</td>
  <td>{{ang.email}}</td>
  <td>{{ang.salariu}}</td>
  <td>{{ang.data_angajarii}}</td>
  <td><a class="btn btn-sm btn-danger" href="{% url 'delete_angajatdc' pk=ang.id_angajat %}">Stergere</a></td>
</tr>
{% endfor %}

    </table>
    </div>
</div>
</div>

<br>
<div class="row">
  <div class="col-md">
     <div class="card card-body">
  <h5>MEDICI</h5>
  </div>
  <div class="card card-body">
    <table id='medic' class="table">
      <tr>
        <th>Cod parafa</th>
        <th>Id angajat</th>
        <th>Sectie</th>
        <th>Cabinet</th>
        <th>Specializare</th>
        <th>Grad Profesional</th>
        <th>Stergere</th>
      </tr>

{% for med in medici %}
<tr>
  <td>{{med.cod_parafa}}</td>
  <td>{{med.id_angajat}}</td>
  <td>{{med.id_sectie}}</td>
  <td>{{med.id_cabinet}}</td>
  <td>{{med.specializare}}</td>
  <td>{{med.grad_profesional}}</td>
  <td><a class="btn btn-sm btn-danger" href="{% url 'delete_medicdc' pk=med.cod_parafa %}">Stergere</a></td>
</tr>
{% endfor %}
    </table>
    </div>
</div>
</div>

<br>
<div class="row">
  <div class="col-md">
     <div class="card card-body">
  <h5>CONSULTATII</h5>
  </div>
  <div class="card card-body">
    <table id='consultatie' class="table">
      <tr>
        <th>Cod parafa</th>
        <th>CNP</th>
        <th>Id tratament</th>
      </tr>

{% for cons in consultatii %}
<tr>
  <td>{{cons.cod_parafa}}</td>
  <td>{{cons.cnp}}</td>
  <td>{{cons.id_tratament}}</td>
</tr>
{% endfor %}
    </table>
    </div>
</div>
</div>

<br>
<div class="row">
  <div class="col-md">
     <div class="card card-body">
  <h5>DETALII INTERNARI</h5>
  </div>
  <div class="card card-body">
    <table id='proceduriinternare' class="table">
      <tr>
        <th>Id internare</th>
        <th>Id procedura</th>
        <th>Cod parafa</th>
        <th>Data incepere procedura</th>
        <th>Data terminare procedura</th>
      </tr>

{% for procint in proceduriint %}
<tr>
  <td>{{procint.id_internare}}</td>
  <td>{{procint.id_procedura}}</td>
  <td>{{procint.cod_parafa}}</td>
  <td>{{procint.data_incepere_procedura}}</td>
  <td>{{procint.data_terminare_procedura}}</td>
</tr>
{% endfor %}

    </table>
    </div>
</div>
</div>

{%endblock%}